<template>
    <div class="mapaPage">
        <div class="iconsLeft">
            <div class="iconsRight__icon" @click="plusClick">
                <svg class="iconsRight__icon--img"><use xlink:href="#plus"/></svg>
            </div>
            <div class="iconsRight__icon" @click="minusClick">
                <svg class="iconsRight__icon--img"><use xlink:href="#minus"/></svg>
            </div>
        </div>
        <div class="iconsTop">
            <div class="iconsRight__icon">
                <svg class="iconsRight__icon--img" :style="{transform: 'rotate('+rotation+'rad)', transition: 'transform .3s'}" @click="mapAlign"><use xlink:href="#north"/></svg>
            </div>
        </div>
        <div class="iconsRight">
            <div class="iconsRight__icon" v-if="enableTracking">
                <svg class="iconsRight__icon--img"><use xlink:href="#tracking_save"/></svg>
            </div> 
            <div class="iconsRight__icon" v-if="enableTracking">
                <svg class="iconsRight__icon--img"><use xlink:href="#tracking_erase"/></svg>
            </div>
            <div class="iconsRight__icon" v-if="enableTracking" @click="startTrackingClick">
                <svg class="iconsRight__icon--img" v-if="!startTracking"><use xlink:href="#tracking_play" /></svg>
                <svg class="iconsRight__icon--img" v-if="startTracking"><use xlink:href="#tracking_pause"/></svg>
            </div>
            <div class="iconsRight__icon" @click="enableTrackingClick">
                <svg class="iconsRight__icon--img"><use xlink:href="#tracking"/></svg>
            </div>
            <div class="iconsRight__icon" @click="geoCrossClick">
                <svg class="iconsRight__icon--img"><use xlink:href="#geocross_center"/></svg>
            </div>
        </div>

        <vl-map class="globalMap" ref="map" :load-tiles-while-animating="true" :load-tiles-while-interacting="true">
            <vl-view ref="view" :rotation.sync="rotation" :center="getChoosenPosition" :extent.sync="extent" :zoom.sync='zoom' :min-zoom.sync='zoomMin' :max-zoom.sync='zoomMax'></vl-view>
            
            <!-- AKTUALNA LOKALIZACJA -->
            <vl-geoloc @update:position='updateGeoPositionEvent($event)' :tracking="this.useGeoPosition" :tracking-options="{enableHighAccuracy: true}">
                <vl-feature>
                    <vl-geom-point :coordinates="getChoosenPosition"></vl-geom-point>
                    <vl-style-box>
                        <vl-style-icon :src='icon' :scale="2.0" :anchor="[0.5, 1]"></vl-style-icon>
                    </vl-style-box>
                </vl-feature>
            </vl-geoloc>

            <!-- POIS -->
            <vl-layer-vector :z-index="1">
                <vl-source-cluster>
                    <vl-source-vector :features="filtered"></vl-source-vector>
                </vl-source-cluster>
            </vl-layer-vector>

            <!-- ŚCIEŻKA ŚLEDZENIA -->
            <vl-feature>
                    <vl-geom-multi-line-string :coordinates="userPath" v-if="userPath.length!=0"></vl-geom-multi-line-string>
            </vl-feature>

            <!-- MAPA GŁOWNA -->
            <vl-layer-tile :z-index="0">
                <vl-source-xyz url="https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png"></vl-source-xyz>
            </vl-layer-tile>
        </vl-map>
        <svg display="none">
            <symbol viewBox="0 0 24 24" id="plus">
                <path d="m 20.4,10.6 h -7 v -7 h -2.8 v 7 h -7 v 2.8 h 7 v 7 h 2.8 v -7 h 7 z"></path>
            </symbol>

            <symbol viewBox="0 0 24 24" id="minus">
                <path d="m 3.6,10.6 h 16.8 v 2.8 H 3.6 Z"></path>
            </symbol>

            <symbol viewBox="0 0 24 24" id="north">
                <path d="m 12.228956,5.7026657 -0.0024,8.3439483 -5.2119607,3.127176 z m -0.0018,-4.108817 -9.0224349,19.8493573 9.0224349,-5.413461 9.030856,5.405041 z"></path>
            </symbol>

            <symbol viewBox="0 0 24 24" id="tracking_save">
                <path d="M 6.7871094 1.0214844 L 6.7871094 12.212891 L 17.978516 12.212891 L 17.978516 2.8867188 L 16.113281 1.0214844 L 6.7871094 1.0214844 z M 9.1191406 1.953125 L 15.646484 1.953125 L 15.646484 5.2167969 L 9.1191406 5.2167969 L 9.1191406 1.953125 z M 13.783203 2.4199219 L 13.783203 4.7519531 L 15.181641 4.7519531 L 15.181641 2.4199219 L 13.783203 2.4199219 z M 8.1855469 7.0820312 L 16.580078 7.0820312 L 16.580078 11.279297 L 8.1855469 11.279297 L 8.1855469 7.0820312 z M 12.125 14.804688 C 11.627163 14.806044 11.137321 14.890983 10.667969 15.060547 L 11.210938 16.564453 C 11.505302 16.457288 11.813004 16.402344 12.125 16.402344 C 12.48312 16.402344 12.832477 16.472367 13.162109 16.609375 L 13.777344 15.134766 C 13.252375 14.915013 12.694735 14.804688 12.125 14.804688 z M 9.25 15.818359 L 7.0273438 17.148438 L 7.8476562 18.519531 L 10.070312 17.189453 L 9.25 15.818359 z M 15.144531 15.876953 L 14.353516 17.265625 L 16.603516 18.546875 L 17.396484 17.158203 L 15.144531 15.876953 z M 22.980469 15.996094 L 21.255859 17.753906 L 19.5 16.027344 L 18.546875 16.980469 L 20.304688 18.710938 L 18.578125 20.46875 L 19.53125 21.423828 L 21.263672 19.662109 L 23.019531 21.392578 L 23.972656 20.431641 L 22.214844 18.703125 L 23.941406 16.949219 L 22.980469 15.996094 z M 1.3144531 16.388672 C 0.5887217 16.388672 2.9605947e-16 16.975442 0 17.701172 C 0 18.426904 0.5887217 19.015625 1.3144531 19.015625 C 2.0401846 19.015625 2.6289062 18.425547 2.6289062 17.701172 C 2.6275663 16.975442 2.0401846 16.388672 1.3144531 16.388672 z M 5.8652344 17.810547 C 5.5396727 17.943481 5.1944889 18.011719 4.8417969 18.011719 C 4.5230182 18.011719 4.2118974 17.955579 3.9121094 17.845703 L 3.359375 19.34375 C 3.8368657 19.518729 4.3358203 19.609375 4.8417969 19.609375 C 5.4047475 19.609375 5.9544706 19.502033 6.4726562 19.289062 L 5.8652344 17.810547 z "></path>
            </symbol>

             <symbol viewBox="0 0 24 24" id="tracking_erase">
                <path d="M 10.998047 1.1328125 C 10.998047 1.5442125 10.662896 2.0449219 10.251953 2.0449219 L 7.6445312 2.0449219 L 7.6445312 2.9589844 L 16.777344 2.9589844 L 16.777344 2.0449219 L 14.167969 2.0449219 C 13.756569 2.0449219 13.423828 1.5442125 13.423828 1.1328125 L 10.998047 1.1328125 z M 8.1015625 3.8710938 L 8.1015625 12.089844 L 16.320312 12.089844 L 16.320312 3.8710938 L 8.1015625 3.8710938 z M 9.9277344 5.2421875 C 10.179779 5.2421875 10.384766 5.4452204 10.384766 5.6972656 L 10.384766 10.263672 C 10.384766 10.515717 10.179779 10.720703 9.9277344 10.720703 C 9.6756892 10.720703 9.4707031 10.515717 9.4707031 10.263672 L 9.4707031 5.6972656 C 9.4707031 5.4452204 9.6756892 5.2421875 9.9277344 5.2421875 z M 12.210938 5.2421875 C 12.462983 5.2421875 12.667969 5.4452204 12.667969 5.6972656 L 12.667969 10.263672 C 12.667969 10.515717 12.462982 10.720703 12.210938 10.720703 C 11.958892 10.720703 11.753906 10.515717 11.753906 10.263672 L 11.753906 5.6972656 C 11.753906 5.4452204 11.958893 5.2421875 12.210938 5.2421875 z M 14.494141 5.2421875 C 14.746186 5.2421875 14.951172 5.4452204 14.951172 5.6972656 L 14.951172 10.263672 C 14.951172 10.515717 14.746186 10.720703 14.494141 10.720703 C 14.242096 10.720703 14.037109 10.515717 14.037109 10.263672 L 14.037109 5.6972656 C 14.037109 5.4452204 14.242096 5.2421875 14.494141 5.2421875 z M 12.125 14.804688 C 11.627163 14.806044 11.137321 14.890983 10.667969 15.060547 L 11.210938 16.564453 C 11.505302 16.457288 11.813004 16.402344 12.125 16.402344 C 12.48312 16.402344 12.832477 16.472367 13.162109 16.609375 L 13.777344 15.134766 C 13.252375 14.915013 12.694735 14.804688 12.125 14.804688 z M 9.25 15.818359 L 7.0273438 17.148438 L 7.8476562 18.519531 L 10.070312 17.189453 L 9.25 15.818359 z M 15.144531 15.876953 L 14.353516 17.265625 L 16.603516 18.546875 L 17.396484 17.158203 L 15.144531 15.876953 z M 22.980469 15.996094 L 21.255859 17.753906 L 19.5 16.027344 L 18.546875 16.980469 L 20.304688 18.710938 L 18.578125 20.46875 L 19.53125 21.423828 L 21.263672 19.662109 L 23.019531 21.392578 L 23.972656 20.431641 L 22.214844 18.703125 L 23.941406 16.949219 L 22.980469 15.996094 z M 1.3144531 16.388672 C 0.5887217 16.388672 2.9605947e-16 16.975442 0 17.701172 C 0 18.426904 0.5887217 19.015625 1.3144531 19.015625 C 2.0401846 19.015625 2.6289062 18.425547 2.6289062 17.701172 C 2.6275663 16.975442 2.0401846 16.388672 1.3144531 16.388672 z M 5.8652344 17.810547 C 5.5396727 17.943481 5.1944889 18.011719 4.8417969 18.011719 C 4.5230182 18.011719 4.2118974 17.955579 3.9121094 17.845703 L 3.359375 19.34375 C 3.8368657 19.518729 4.3358203 19.609375 4.8417969 19.609375 C 5.4047475 19.609375 5.9544706 19.502033 6.4726562 19.289062 L 5.8652344 17.810547 z "></path>
            </symbol>

             <symbol viewBox="0 0 24 24" id="tracking_play">
                <path d="M 8.3261719 3.2246094 L 8.3261719 11.974609 L 16.201172 7.5996094 L 8.3261719 3.2246094 z M 12.125 14.804688 C 11.627163 14.806044 11.137321 14.890983 10.667969 15.060547 L 11.210938 16.564453 C 11.505302 16.457288 11.813004 16.402344 12.125 16.402344 C 12.48312 16.402344 12.832477 16.472367 13.162109 16.609375 L 13.777344 15.134766 C 13.252375 14.915013 12.694735 14.804688 12.125 14.804688 z M 9.25 15.818359 L 7.0273438 17.148438 L 7.8476562 18.519531 L 10.070312 17.189453 L 9.25 15.818359 z M 15.144531 15.876953 L 14.353516 17.265625 L 16.603516 18.546875 L 17.396484 17.158203 L 15.144531 15.876953 z M 22.980469 15.996094 L 21.255859 17.753906 L 19.5 16.027344 L 18.546875 16.980469 L 20.304688 18.710938 L 18.578125 20.46875 L 19.53125 21.423828 L 21.263672 19.662109 L 23.019531 21.392578 L 23.972656 20.431641 L 22.214844 18.703125 L 23.941406 16.949219 L 22.980469 15.996094 z M 1.3144531 16.388672 C 0.5887217 16.388672 2.9605947e-16 16.975442 0 17.701172 C 0 18.426904 0.5887217 19.015625 1.3144531 19.015625 C 2.0401846 19.015625 2.6289062 18.425547 2.6289062 17.701172 C 2.6275663 16.975442 2.0401846 16.388672 1.3144531 16.388672 z M 5.8652344 17.810547 C 5.5396727 17.943481 5.1944889 18.011719 4.8417969 18.011719 C 4.5230182 18.011719 4.2118974 17.955579 3.9121094 17.845703 L 3.359375 19.34375 C 3.8368657 19.518729 4.3358203 19.609375 4.8417969 19.609375 C 5.4047475 19.609375 5.9544706 19.502033 6.4726562 19.289062 L 5.8652344 17.810547 z "></path>
            </symbol>

             <symbol viewBox="0 0 24 24" id="tracking_pause">
                <path d="M 9.5214844 2.5527344 L 9.5214844 10.785156 L 11.423828 10.785156 L 11.423828 2.5527344 L 9.5214844 2.5527344 z M 12.783203 2.5527344 L 12.783203 10.785156 L 14.685547 10.785156 L 14.685547 2.5527344 L 12.783203 2.5527344 z M 12.125 14.804688 C 11.627163 14.806044 11.137321 14.890983 10.667969 15.060547 L 11.210938 16.564453 C 11.505302 16.457288 11.813004 16.402344 12.125 16.402344 C 12.48312 16.402344 12.832477 16.472367 13.162109 16.609375 L 13.777344 15.134766 C 13.252375 14.915013 12.694735 14.804688 12.125 14.804688 z M 9.25 15.818359 L 7.0273438 17.148438 L 7.8476562 18.519531 L 10.070312 17.189453 L 9.25 15.818359 z M 15.144531 15.876953 L 14.353516 17.265625 L 16.603516 18.546875 L 17.396484 17.158203 L 15.144531 15.876953 z M 22.980469 15.996094 L 21.255859 17.753906 L 19.5 16.027344 L 18.546875 16.980469 L 20.304688 18.710938 L 18.578125 20.46875 L 19.53125 21.423828 L 21.263672 19.662109 L 23.019531 21.392578 L 23.972656 20.431641 L 22.214844 18.703125 L 23.941406 16.949219 L 22.980469 15.996094 z M 1.3144531 16.388672 C 0.5887217 16.388672 2.9605947e-16 16.975442 0 17.701172 C 0 18.426904 0.5887217 19.015625 1.3144531 19.015625 C 2.0401846 19.015625 2.6289062 18.425547 2.6289062 17.701172 C 2.6275663 16.975442 2.0401846 16.388672 1.3144531 16.388672 z M 5.8652344 17.810547 C 5.5396727 17.943481 5.1944889 18.011719 4.8417969 18.011719 C 4.5230182 18.011719 4.2118974 17.955579 3.9121094 17.845703 L 3.359375 19.34375 C 3.8368657 19.518729 4.3358203 19.609375 4.8417969 19.609375 C 5.4047475 19.609375 5.9544706 19.502033 6.4726562 19.289062 L 5.8652344 17.810547 z "></path>
            </symbol>

             <symbol viewBox="0 0 24 24" id="tracking">
                <path d="M 4.0078125 5.2539062 A 3.0717404 3.0717402 0 0 0 0.93554688 8.3261719 A 3.0717404 3.0717402 0 0 0 4.0078125 11.398438 A 3.0717404 3.0717402 0 0 0 7.0800781 8.3261719 A 3.0717404 3.0717402 0 0 0 4.0078125 5.2539062 z M 20.693359 5.4355469 C 20.139629 5.4355469 19.655498 5.5589869 19.242188 5.8027344 C 18.831526 6.0438324 18.516778 6.3919545 18.296875 6.8476562 C 18.076972 7.3007085 17.966797 7.829524 17.966797 8.4335938 C 17.966797 9.3926869 18.190918 10.128589 18.638672 10.642578 C 19.086425 11.153918 19.732957 11.410156 20.578125 11.410156 C 21.166298 11.410156 21.698884 11.310035 22.175781 11.111328 L 22.175781 10.078125 C 21.595556 10.282131 21.101371 10.384766 20.693359 10.384766 C 19.721019 10.384766 19.234375 9.7369769 19.234375 8.4414062 C 19.234375 7.8187905 19.360889 7.3334033 19.615234 6.9863281 C 19.86958 6.6366035 20.229709 6.4609375 20.693359 6.4609375 C 20.905314 6.4609375 21.119941 6.4993384 21.339844 6.5761719 C 21.559746 6.6530053 21.778841 6.7443285 21.996094 6.8476562 L 22.394531 5.8457031 C 21.824904 5.572812 21.257688 5.4355469 20.693359 5.4355469 z M 8.2890625 5.5195312 L 8.2890625 11.330078 L 9.5214844 11.330078 L 9.5214844 9.1015625 L 10.177734 9.1015625 L 11.564453 11.330078 L 12.931641 11.330078 C 12.666698 10.94856 12.096968 10.104996 11.222656 8.7988281 C 11.567082 8.6478107 11.833375 8.438771 12.021484 8.1738281 C 12.209594 7.9062358 12.302734 7.6015419 12.302734 7.2597656 C 12.302734 6.6742419 12.113243 6.2392633 11.734375 5.953125 C 11.355507 5.6643373 10.771952 5.5195312 9.9824219 5.5195312 L 8.2890625 5.5195312 z M 13.662109 5.5195312 L 13.662109 11.330078 L 17.009766 11.330078 L 17.009766 10.3125 L 14.894531 10.3125 L 14.894531 8.8144531 L 16.861328 8.8144531 L 16.861328 7.8046875 L 14.894531 7.8046875 L 14.894531 6.5292969 L 17.009766 6.5292969 L 17.009766 5.5195312 L 13.662109 5.5195312 z M 3.9921875 5.8574219 A 2.4744668 2.4744668 0 0 1 6.4667969 8.3320312 A 2.4744668 2.4744668 0 0 1 3.9921875 10.806641 A 2.4744668 2.4744668 0 0 1 1.5175781 8.3320312 A 2.4744668 2.4744668 0 0 1 3.9921875 5.8574219 z M 9.5214844 6.5292969 L 9.8945312 6.5292969 C 10.291946 6.5292969 10.585328 6.5885033 10.773438 6.7050781 C 10.964196 6.821653 11.058594 7.0174282 11.058594 7.2929688 C 11.058594 7.5711588 10.96671 7.7744749 10.78125 7.9042969 C 10.59579 8.0341189 10.309388 8.0996094 9.9199219 8.0996094 L 9.5214844 8.0996094 L 9.5214844 6.5292969 z M 4.03125 6.9316406 A 1.413981 1.413981 0 0 0 2.6171875 8.3457031 A 1.413981 1.413981 0 0 0 4.03125 9.7597656 A 1.413981 1.413981 0 0 0 5.4453125 8.3457031 A 1.413981 1.413981 0 0 0 4.03125 6.9316406 z M 12.125 14.804688 C 11.627163 14.806044 11.137321 14.890983 10.667969 15.060547 L 11.210938 16.564453 C 11.505302 16.457288 11.813004 16.402344 12.125 16.402344 C 12.48312 16.402344 12.832477 16.472367 13.162109 16.609375 L 13.777344 15.134766 C 13.252375 14.915013 12.694735 14.804688 12.125 14.804688 z M 9.25 15.818359 L 7.0273438 17.148438 L 7.8476562 18.519531 L 10.070312 17.189453 L 9.25 15.818359 z M 15.144531 15.876953 L 14.353516 17.265625 L 16.603516 18.546875 L 17.396484 17.158203 L 15.144531 15.876953 z M 22.980469 15.996094 L 21.255859 17.753906 L 19.5 16.027344 L 18.546875 16.980469 L 20.304688 18.710938 L 18.578125 20.46875 L 19.53125 21.423828 L 21.263672 19.662109 L 23.019531 21.392578 L 23.972656 20.431641 L 22.214844 18.703125 L 23.941406 16.949219 L 22.980469 15.996094 z M 1.3144531 16.388672 C 0.5887217 16.388672 2.9605947e-16 16.975442 0 17.701172 C 0 18.426904 0.5887217 19.015625 1.3144531 19.015625 C 2.0401846 19.015625 2.6289062 18.425547 2.6289062 17.701172 C 2.6275663 16.975442 2.0401846 16.388672 1.3144531 16.388672 z M 5.8652344 17.810547 C 5.5396727 17.943481 5.1944889 18.011719 4.8417969 18.011719 C 4.5230182 18.011719 4.2118974 17.955579 3.9121094 17.845703 L 3.359375 19.34375 C 3.8368657 19.518729 4.3358203 19.609375 4.8417969 19.609375 C 5.4047475 19.609375 5.9544706 19.502033 6.4726562 19.289062 L 5.8652344 17.810547 z "></path>
            </symbol>

             <symbol viewBox="0 0 24 24" id="geocross_center">
                <path d="M24 11h-2.051c-.469-4.725-4.224-8.48-8.949-8.95v-2.05h-2v2.05c-4.725.47-8.48 4.225-8.949 8.95h-2.051v2h2.051c.469 4.725 4.224 8.48 8.949 8.95v2.05h2v-2.05c4.725-.469 8.48-4.225 8.949-8.95h2.051v-2zm-11 8.931v-3.931h-2v3.931c-3.611-.454-6.478-3.32-6.931-6.931h3.931v-2h-3.931c.453-3.611 3.32-6.477 6.931-6.931v3.931h2v-3.931c3.611.454 6.478 3.319 6.931 6.931h-3.931v2h3.931c-.453 3.611-3.32 6.477-6.931 6.931zm1-7.931c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2z"></path>
            </symbol>

        </svg>
    </div>
</template>

<script>
import { transform } from 'ol/proj'
import urzad from '../assets/test.geojson'
import osmtogeojson from 'osmtogeojson/index'
import Style from 'ol/style/Style'
import Icon from 'ol/style/Icon'
import { mapState, mapMutations, mapActions} from "vuex";
export default {
  name: 'mapa',
  data () {
        return {
            zoom: 16,
            zoomMin: 11,
            zoomMax: 19,
            icon: require("@/assets/icons/location.svg"),
            icon2: require("@/assets/icons/info.svg"),
            center: [22.7695915, 49.7822044],
            extent: [22.712516, 49.820265, 22.855682, 49.745781],
            rotation: 0,
        }
    },
    methods: {
        ...mapMutations(["updateGeoPosition", "updateUserPath", "switchEnableTracking", "reduceUserPath", "switchStartTracking"]),
        ...mapActions(["getCurrentAdress"]),
        updateGeoPositionEvent(event) {
            this.updateGeoPosition(event)
            this.getCurrentAdress(event)
            if (this.startTracking) {
                this.updateUserPath({empty: null, coords:event})
            }
        },
        geoCrossClick() {
            if (this.useGeoPosition) {
                this.$refs.view.animate({center: this.geoPosition})
            }
        },
        enableTrackingClick() {
            if (this.enableTracking) {
                this.switchEnableTracking(false)
            } else {
                this.switchEnableTracking(true)
            }
        },
        startTrackingClick() {
            if (this.startTracking) {
                this.switchStartTracking(false)
                this.reduceUserPath(1)
            } else {
                this.switchStartTracking(true)
                this.updateUserPath({empty: [], coords: this.geoPosition})
            }
        },
        eraseTracking() {
            this.reduceUserPath(undefined)
            this.updateUserPath({empty: [], coords: this.geoPosition})
        },
        mapAlign() {
            this.$refs.view.animate({rotation : 0})
        },
        plusClick() {
            if (this.zoom < this.zoomMax) {
                this.zoom++
            }
            
        },
        minusClick() {
            if (this.zoom > this.zoomMin) {
                this.zoom--
            }
        }
        
    },
    computed: {
        ...mapState(["enableTracking", "startTracking", "userPath", "useGeoPosition", "geoPosition", "choosenPosition", "poi"]),
        getChoosenPosition() {
            if (this.useGeoPosition) {
                return this.geoPosition
            } else {
                return this.choosenPosition
            }
        },
        filtered() {
                const poi = this.poi
                const range = 0.001
                let lon = this.choosenPosition[0]
                let lat = this.choosenPosition[1]
                if (this.useGeoPosition) {
                    lon = this.geoPosition[0]
                    lat = this.geoPosition[1]
                }
                const lonUp = lon + range
                const latUp = lat + range
                const lonDown = lon - range
                const latDown = lat - range

                const rangePois = poi.filter(function(el) {
                    let poiLon = el.geometry.coordinates[0]
                    let poiLat = el.geometry.coordinates[1]
                    return (
                        (((lon < poiLon) && (poiLon < lonUp)) || ((lonDown < poiLon) && (poiLon < lon))) &&
                        (((lat < poiLat) && (poiLat < latUp)) || ((latDown < poiLat) && (poiLat < lat)))
                    )
                })
                return rangePois
            }
    }
}
</script>

<style lang="scss" scoped>
.mapaPage {
    position: relative;
    display: flex;
    flex-flow: column;
    align-items: center;
}

.iconsLeft {
    left: 5px;
    top: 10px;
}

.iconsTop {
    right: 5px;
    top: 10px;
}

.iconsRight {
    right: 5px;
    bottom: 10px;
}

.iconsRight, .iconsTop, .iconsLeft {
    position: absolute;
    z-index: 1;
    display: grid;
    grid-row-gap: 5px;
    
    &__icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        background-color: white;
        border-radius: 100%;
        border: $border-light-grey;

        &--img {
             width: 70%;
             height: 70%;
        }
    }
}

.globalMap {
    width: 100%;
    height: 100%;
}
</style>
